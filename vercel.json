{
  "buildCommand": "pnpm run build",
  "outputDirectory": "dist/public",
  "installCommand": "pnpm install",
  "framework": null,
  "crons": [
    {
      "path": "/api/cron/record-cloudinary-metrics",
      "schedule": "*/15 * * * *"
    },
    {
      "path": "/api/cron/record-throttle-metrics",
      "schedule": "*/5 * * * *"
    },
    {
      "path": "/api/cron/process-gemini-images",
      "schedule": "0 * * * *"
    }
  ],
  "rewrites": [
    {
      "source": "/api/trpc/:path*",
      "destination": "/api/trpc/[trpc]"
    },
    {
      "source": "/api/data/:path*",
      "destination": "/api/data/:path*"
    },
    {
      "source": "/api/webhooks/:path*",
      "destination": "/api/webhooks/:path*"
    },
    {
      "source": "/webhook/irex",
      "destination": "/api/webhook/irex"
    },
    {
      "source": "/ingest/event",
      "destination": "/api/webhook/irex"
    },
    {
      "source": "/ingest/snapshot",
      "destination": "/api/webhook/irex"
    },
    {
      "source": "/api/cloudinary/test-influxdb",
      "destination": "/api/cloudinary/test-influxdb"
    },
    {
      "source": "/api/analytics/:path*",
      "destination": "/api/analytics/:path*"
    },
    {
      "source": "/api/cron/:path*",
      "destination": "/api/cron/:path*"
    },
    {
      "source": "/api/data/gemini-config",
      "destination": "/api/data/gemini-config"
    },
    {
      "source": "/api/data/gemini-search",
      "destination": "/api/data/gemini-search"
    },
    {
      "source": "/((?!api/|webhook/|ingest/).*)",
      "destination": "/index.html"
    }
  ]
}
